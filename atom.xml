<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[John's Blog]]></title>
  <link href="http://GinSmile.github.io/atom.xml" rel="self"/>
  <link href="http://GinSmile.github.io/"/>
  <updated>2013-08-28T22:14:23+08:00</updated>
  <id>http://GinSmile.github.io/</id>
  <author>
    <name><![CDATA[John Xu]]></name>
    <email><![CDATA[xu.jin.smile@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[用GitHub Pages和Octopress搭建博客]]></title>
    <link href="http://GinSmile.github.io/blog/2013/08/28/yong-github-pageshe-octopressda-jian-bo-ke/"/>
    <updated>2013-08-28T19:42:00+08:00</updated>
    <id>http://GinSmile.github.io/blog/2013/08/28/yong-github-pageshe-octopressda-jian-bo-ke</id>
    <content type="html"><![CDATA[<p>本文介绍了在ubuntu 12.04下使用GitHub Pages和Octopress搭建博客的过程。如果读者英文阅读能力良好，强烈建议读者去官方网站阅读文档，其文档已经包含了成功搭建一个博客的绝大部分内容。 <br/>
文档地址：<a href="https://help.github.com/categories/20/articles">GitHub Pages</a>，<a href="http://octopress.org/docs/">Octopress Document</a> <br/>
注意：根据官方文档中的步骤安装Ruby 1.9.3可能会遇到一个错误,解决方法请看本文后面部分。</p>

<!--more-->


<h1>搭建流程</h1>

<h2>1.注册GitHub帐号</h2>

<p>按照标准流程来注册帐号，创建名为username.github.io的repo，不要添加任何文件。</p>

<h2>2.安装git</h2>

<pre><code>$ sudo apt-add-repository ppa:git-core/ppa
$ sudo apt-get update
$ sudo apt-get install git
</code></pre>

<p>设置git，务必和github上相同</p>

<pre><code>$ git config --global user.name "your username"
$ git config --global user.email "you email"   
</code></pre>

<h2>3.产生SSH Key</h2>

<p>首先查看目录中是否有SSH Key</p>

<pre><code>$ cd ～/.ssh
$ ls
# Lists the files in your .ssh directory
</code></pre>

<p>如果目录中没有SSH，则要生成一个新的，做法如下</p>

<pre><code>$ ssh-keygen -t rsa -C "your_email@example.com"
......
Generating public/private rsa key pair.
Enter file in which to save the key (/home/you/.ssh/id_rsa):
# 这里直接打回车，按提示输入密码。（必须输入密码！）
........
# 如果成功，则会显示：
Your identification has been saved in /home/you/.ssh/id_rsa.
........
</code></pre>

<p>如果有SSH Key或者刚刚生成了新的SSH，则把SSH添加到剪贴板：</p>

<pre><code>$ sudo apt-get install xclip
# Downloads and installs xclip.

$ xclip -sel clip &lt; ~/.ssh/id_rsa.pub
# Copies the contents of the id_rsa.pub file to your clipboard
</code></pre>

<h2>4.在github中设置SSH</h2>

<p>去GitHub主页，进入Account Settings->SSH Keys->Add SSh Key，把剪贴板中剪贴板中的SSH key粘贴到里面，over。</p>

<h2>5.使用RVM安装Ruby 1.9.3</h2>

<p>这里是用RVM安装Ruby 1.9.3。 <br/>
首先在终端里输入ruby -version，查看是否安装过ruby。一般如果没有之前没有用过ruby，就不会显示已安装过1.9.3版本。这时候，和官方文档不同，首先要卸载系统默认的ruby和rvm。  <br/>
<em>这里详细请看网上的一篇博文：<a href="http://zuyunfei.com/2013/04/01/install-ruby-on-ubuntu/">Cloud&rsquo;s Blog</a></em>，这里复制下命令来备份，再次感谢原作者。 <br/>
卸载系统默认ruby以及rvm</p>

<pre><code>$ sudo apt-get remove --purge ruby-rvm ruby
$ sudo rm -rf /usr/share/ruby-rvm /etc/rvmrc /etc/profile.d/rvm.sh
$ rm -rf ~/.rvm* ~/.gem/ ~/.bundle
</code></pre>

<p>禁止安装doc</p>

<pre><code>$ echo 'gem: --no-rdoc --no-ri' &gt;&gt; ~/.gemrc
</code></pre>

<p>安装必要的工具和库</p>

<pre><code>$ sudo apt-get install -y \
  git \
  build-essential \
  curl \
  wget
</code></pre>

<p>将rvm的配置加入.bashrc中</p>

<pre><code>$ sudo apt-get install -y \
  build-essential \
  openssl \
  libreadline6 \
  libreadline6-dev \
  curl \
  git-core \
  zlib1g \
  zlib1g-dev \
  libssl-dev \
  libyaml-dev \
  libxml2-dev \
  libxslt-dev \
  autoconf \
  libc6-dev \
  ncurses-dev \
  automake \
  libtool \
  bison \
  subversion \
  pkg-config \
  libgdbm-dev
</code></pre>

<p>安装sqlite3</p>

<pre><code>$ sudo apt-get install -y \ sqlite3 \ libsqlite3-dev
</code></pre>

<p>安装rvm和ruby，<em>期间可能会提示安装ruby1.9.3,根据提示安装即可</em>。</p>

<pre><code>$ curl -L https://get.rvm.io | bash -s stable --ruby
$ source ~/.rvm/scripts/rvm
$ rvm reload
$ rvm use default
$ ruby --version 
</code></pre>

<p>安装cyaml和bundler</p>

<pre><code>$ gem install cyaml --no-ri --no-rdoc
$ gem install bundler --no-ri --no-rdoc
</code></pre>

<p>此时输入命令：<code>ruby --version</code>,会显示ruby 1.9.3，表示已经安装好了。</p>

<h2>6.安装Octopress</h2>

<p>克隆 Octopress项目</p>

<pre><code>$ git clone git://github.com/imathis/octopress.git octopress
$ cd octopress
</code></pre>

<p>安装依赖</p>

<pre><code>$ gem install bundler
$ rbenv rehash
$ bundle install
</code></pre>

<p>安装默认主题</p>

<pre><code>$ rake install
</code></pre>

<h2>7.部署网站</h2>

<p>使用此命令<code>rake setup_github_pages</code>设置Octpress和Github的联系。
这条命令将：</p>

<pre><code>询问你的GitHub Pages仓库的URL地址
重命名远端分支名从这‘origin’到站‘octopress’
将GitHub Pages项目作为默认的远端分支
将活动分支将从master转换为source
根据你的Git仓库地址设置博客的URL
在_deploy分支设置一个master分支，部署用，最终页面的目录最终即最终此文件夹
</code></pre>

<p>使用以下命令在本地预览</p>

<pre><code>$ rake generate  //此命令会产生最终的静态页面
$ rake preview   //此命令会打开4000端口,可输入localhost:4000预览博客
</code></pre>

<p>使用以下命令将页面部署到_deploy目录。</p>

<pre><code>$ rake generate
$ rake deploy    
</code></pre>

<p>将改动将更新到github</p>

<pre><code>$ git add .
$ git commit -m 'your message'
$ git push origin source
</code></pre>

<p>截止到此，一个基于GitHub Pages和Octopress的博客就搭建好了。 现在打开username.github.io就会看到刚刚搭建好的博客，注意：只有push到github上之后才会在username.github.io看到最终效果，<code>$ rake deploy</code>仅仅是更新本地的_deploy目录，仅可以在本地预览的时候看到。</p>

<h2>8.发布第一篇博文</h2>

<p>生成博文框架</p>

<pre><code>$ rake new_post[‘文章标题’]
</code></pre>

<p>此时可以在source/_posts文件夹下看到刚创建的网页。使用markdown语法写一片博客即可（此处可使用retext编辑Markdown文件）。</p>

<pre><code>$ rake generate  //此命令会产生最终的静态页面
$ rake preview   //此命令会打开4000端口,可输入在浏览器localhost:4000预览
$ rake deploy    
</code></pre>

<h2>9. 安装retext编辑Markdown文章</h2>

<p>网上有不少可以编辑Markdown文件的文档，这里推荐一款retext，适合liunx。</p>

<pre><code>$ sudo apt-add-repository ppa:mitya57
$ sudo apt-get update
$ sudo apt-get install retext
</code></pre>

<h2>参考资料</h2>

<p><a href="https://help.github.com/articles/generating-ssh-keys">GitHub Help</a> <br/>
<a href="https://help.github.com/categories/20/articles">GitHub Pages</a> <br/>
<a href="http://octopress.org/docs/">Octopress Document</a>  <br/>
<a href="http://zuyunfei.com/">zuyunfei.com</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[新博客开通了]]></title>
    <link href="http://GinSmile.github.io/blog/2013/08/28/xin-bo-ke-kai-tong-liao/"/>
    <updated>2013-08-28T15:54:00+08:00</updated>
    <id>http://GinSmile.github.io/blog/2013/08/28/xin-bo-ke-kai-tong-liao</id>
    <content type="html"><![CDATA[<h2>我的新家</h2>

<p>  越来越喜欢github了，不仅有代码托管还有博客框架提供。本博客是利用GitHub Pages和Octopress搭建成功的。<br/>
Markdown真的很棒，用它来写作真的很舒服。另外，像黑客一样写博客的感觉真的很爽。^.^b 今后争取把高质量的文章放到这里。</p>
]]></content>
  </entry>
  
</feed>
